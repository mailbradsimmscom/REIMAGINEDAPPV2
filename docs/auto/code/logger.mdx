# `logger.js`

- **Path**: `src/utils/logger.js`
- **Exports**: logger
- **Imports**:
  - `node:fs`
  - `node:path`
  - `node:crypto`

## Express Routes
_None detected_

## Raw Content

```js
import { promises as fs } from 'node:fs';
import { join } from 'node:path';
import { randomUUID } from 'node:crypto';

class Logger {
  constructor() {
    this.logsDir = join(process.cwd(), 'logs');
    this.maxLogSize = 5 * 1024 * 1024; // 5MB
    this.maxLogFiles = 5;
    this.ensureLogsDirectory();
  }

  // Get environment values at runtime
  async getEnv() {
    const { getEnv } = await import('../config/env.js');
    return getEnv();
  }

  async ensureLogsDirectory() {
    try {
      await fs.access(this.logsDir);
    } catch {
      await fs.mkdir(this.logsDir, { recursive: true });
    }
  }

  async writeLog(level, message, meta = {}) {
    const env = await this.getEnv();
    const logEntry = {
      timestamp: new Date().toISOString(),
      level: level.toUpperCase(),
      message,
      correlationId: meta.correlationId || randomUUID(),
      service: 'reimagined-app',
      version: env.APP_VERSION || '1.0.0',
      environment: env.NODE_ENV || 'development',
      ..
...
```
